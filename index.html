<!DOCTYPE html>
<html lang="ms">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bug Tele v2 Tuan Alipüçì</title>

<!-- Import Google Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700&family=Bungee+Spice&family=Honk&family=Tagesschrift&display=swap" rel="stylesheet">

<style>
*{box-sizing:border-box;}
body{
  margin:0;
  background:#0d1117;
  color:#fff;
  overflow-x:hidden;
  height:100vh;
  font-family:'Tagesschrift', system-ui;
}
.bg-video{
  position:fixed;
  top:0;left:0;
  min-width:100%;
  min-height:100%;
  object-fit:cover;
  z-index:-1;
  filter:brightness(0.4);
}
header{
  background:rgba(22,27,34,0.8);
  padding:15px 20px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  position:fixed;
  width:100%;
  top:0;left:0;
  box-shadow:0 0 10px #ff4fd8;
  z-index:10;
  backdrop-filter:blur(10px);
}
.menu-icon{font-size:24px;cursor:pointer;color:#ff4fd8;}
.container{
  margin-top:90px;
  display:flex;
  flex-direction:column;
  align-items:center;
  padding:20px;
  text-align:center;
  min-height:calc(100vh - 100px);
}

/* ======== FONT CUSTOM ======== */
.honk {
  font-family: "Honk", system-ui;
  font-optical-sizing: auto;
  font-weight: 400;
  font-style: normal;
  font-variation-settings:
    "MORF" 15,
    "SHLN" 50;
  color: #ff4fd8;
  text-shadow: 0 0 15px #ff7be6;
}
.bungee-spice-regular {
  font-family: "Bungee Spice", sans-serif;
  font-weight: 400;
  font-style: normal;
}
.tagesschrift-regular {
  font-family: "Tagesschrift", system-ui;
  font-weight: 400;
  font-style: normal;
}

/* ======== Transisi Halus ======== */
.fade {
  opacity:0;
  transform:translateY(20px);
  transition:opacity 0.5s ease, transform 0.5s ease;
}
.fade.active {
  opacity:1;
  transform:translateY(0);
}

/* ======== Ukuran Seragam ======== */
.page-box{
  background:rgba(22,27,34,0.8);
  padding:25px;
  border-radius:12px;
  box-shadow:0 0 15px #ff4fd8;
  width:100%;
  max-width:420px;
  text-align:center;
  backdrop-filter:blur(10px);
  margin:0 auto;
}

/* Home video */
.welcome-video{
  width:100%;
  max-width:400px;
  border-radius:12px;
  overflow:hidden;
  box-shadow:0 0 12px #ff4fd8;
  margin-bottom:15px;
}
.welcome-video video{
  width:100%;
  height:auto;
  display:block;
  border-radius:12px;
}

h1{
  color:#ff4fd8;
  font-size:24px;
  text-shadow:0 0 15px #ff7be6;
  margin-bottom:10px;
}
p{color:#ccc;font-size:0.95rem;margin-bottom:15px;}

/* Music Player */
#music-player{
  position:relative;
  margin-top:10px;
  background:rgba(0,0,0,0.6);
  padding:12px 20px;
  border-radius:30px;
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:6px;
  color:#ff4fd8;
  font-size:1rem;
  box-shadow:0 0 15px #ff4fd8,0 0 30px #ff9ff0;
  width:100%;
  max-width:320px;
  animation:pulsePink 2s infinite alternate;
}
@keyframes pulsePink{0%{box-shadow:0 0 10px #ff4fd8;}100%{box-shadow:0 0 25px #ff9ff0;}}
#music-controls{display:flex;align-items:center;gap:10px;}
#music-player button{background:none;border:none;color:#ff4fd8;font-size:1.2rem;cursor:pointer;text-shadow:0 0 6px #ff7be6;}
#progressContainer{width:280px;height:6px;background:rgba(255,255,255,0.2);border-radius:3px;overflow:hidden;cursor:pointer;}
#progressBar{width:0%;height:100%;background:linear-gradient(90deg,#ff4fd8,#ff9ff0);border-radius:3px;transition:width 0.1s linear;}
#timeDisplay{font-size:0.8rem;color:#ffb3f6;font-weight:bold;margin-top:4px;}
.equalizer{display:flex;gap:3px;align-items:flex-end;height:16px;margin-top:4px;}
.bar{width:3px;background:#ff4fd8;box-shadow:0 0 4px #ff9ff0;border-radius:1px;animation:bounce 1s infinite;}
.bar:nth-child(1){animation-delay:0s;}
.bar:nth-child(2){animation-delay:0.15s;}
.bar:nth-child(3){animation-delay:0.3s;}
.bar:nth-child(4){animation-delay:0.45s;}
.bar:nth-child(5){animation-delay:0.6s;}
@keyframes bounce{0%,100%{height:4px;}50%{height:16px;}}
.equalizer.paused .bar{animation-play-state:paused;}

/* JAM DIGITAL */
#digitalClock{
  margin-top:10px;
  font-family:'Orbitron',sans-serif;
  font-size:1.2rem;
  color:#ff4fd8;
  text-shadow:0 0 15px #ff7be6;
}

.sidebar{
  position:fixed;
  top:0;
  right:-250px;
  width:250px;
  height:100%;
  background:rgba(22,27,34,0.95);
  box-shadow:-4px 0 10px #ff4fd8;
  transition:right 0.3s ease;
  padding-top:60px;
  z-index:20;
  backdrop-filter:blur(10px);
}
.sidebar.active{right:0;}
.sidebar a{
  display:block;
  color:#fff;
  padding:15px 25px;
  text-decoration:none;
  border-bottom:1px solid #0d1117;
}
.sidebar a:hover{background:#ff4fd8;color:#fff;}
input,textarea,select,button{
  font-family:'Tagesschrift', system-ui;
  width:90%;
  padding:10px;
  margin-top:10px;
  border-radius:8px;
  border:none;
  background:#0d1117;
  color:#fff;
}
button{
  margin-top:20px;
  background:#ff4fd8;
  color:#fff;
  padding:12px 20px;
  border-radius:8px;
  cursor:pointer;
  font-weight:bold;
  width:95%;
  box-shadow:0 0 10px #ff4fd8;
  transition:0.3s;
}
button:hover{background:#ff7be6;transform:scale(1.05);}
.status{margin-top:15px;font-weight:bold;min-height:24px;}
.link-buttons{margin-top:15px;display:flex;justify-content:space-around;gap:10px;flex-wrap:wrap;}
.link-buttons a{
  flex:1;
  text-align:center;
  padding:10px;
  background:#ff4fd8;
  border-radius:8px;
  color:#fff;
  font-weight:bold;
  text-decoration:none;
  box-shadow:0 0 10px #ff4fd8;
  transition:0.3s;
}
.link-buttons a:hover{background:#ff7be6;transform:scale(1.05);}
@media(max-width:480px){h1{font-size:20px;}.page-box{width:95%;padding:20px;}}
</style>
</head>
<body>

<video autoplay muted loop class="bg-video">
  <source src="https://files.catbox.moe/8jx5bm.mp4" type="video/mp4">
</video>

<header>
  <h2 class="honk">Aliftzy The Sunüåû</h2>
  <div class="menu-icon tagesschrift-regular" onclick="toggleSidebar()">‚ò∞</div>
</header>

<audio id="bgMusic" autoplay loop></audio>

<div id="content" class="container fade active"></div>

<div class="sidebar" id="sidebar">
  <a href="#" onclick="loadPage('home')">üè† Home</a>
  <a href="#" onclick="loadPage('token')">üîë Bot Token</a>
  <a href="#" onclick="loadPage('dashboard')">ü¶† Attack</a>
</div>

<script>
let botToken="";
function toggleSidebar(){document.getElementById('sidebar').classList.toggle('active');}

function loadPage(page){
  const content=document.getElementById("content");
  content.classList.remove('active');
  setTimeout(()=>{
    document.getElementById('sidebar').classList.remove('active');
    if(page==='home'){
      content.innerHTML=`
        <div class="page-box">
          <div class="welcome-video">
            <video autoplay muted loop><source src="https://files.catbox.moe/i4bc6v.mp4" type="video/mp4"></video>
          </div>
          <h1 class="honk">Welcome to Nezuko Devil</h1>
          <p class="tagesschrift-regular">Tekan garis tiga di kanan atas untuk memulai penyerangan.</p>
          <div id="music-player">
            <div id="music-controls">
              <button id="prevBtn">‚èÆÔ∏è</button>
              <button id="playPauseBtn">‚ñ∂Ô∏è</button>
              <button id="nextBtn">‚è≠Ô∏è</button>
            </div>
            <div class="equalizer" id="equalizer">
              <div class="bar"></div><div class="bar"></div><div class="bar"></div><div class="bar"></div><div class="bar"></div>
            </div>
            <div id="progressContainer"><div id="progressBar"></div></div>
            <div id="timeDisplay">00:00 / 00:00</div>
            <div id="digitalClock"></div>
          </div>
        </div>`;
      setupMusic();
      startClock();
    }

    if(page==='token'){
      content.innerHTML=`<div class="page-box">
        <h2 class="honk">Masukkan Bot Token</h2>
        <input type="text" id="tokenInput" placeholder="Masukkan token dari BotFather">
        <button onclick="saveToken()">Tukar</button>
        <div class="status" id="statusToken"></div>
        <div class="link-buttons">
          <a href="https://t.me/BotFather" target="_blank">BotFather</a>
          <a href="https://t.me/Aliftzycrt" target="_blank">Developer</a>
        </div>
      </div>`;
    }

    if(page==='dashboard'){
      content.innerHTML=`<div class="page-box"><h2 class="honk">Nezuko Devil Attack</h2>
      <form id="telegramForm">
        <label for="chat_id">ID Target:</label><br>
        <input type="text" id="chat_id" placeholder="contoh: 123456789" required><br><br>
        <label for="type">Type Attack:</label><br>
        <select id="type" required>
          <option value="text">Teks</option>
          <option value="photo">Gambar</option>
          <option value="sticker">Sticker</option>
          <option value="voice">Voice</option>
          <option value="document">Dokumen</option>
          <option value="location">Lokasi</option>
        </select><br><br>
        <div id="inputArea">
          <label for="text">Keterangan:</label><br>
          <textarea id="text" rows="5" placeholder="Tulis Teks di sini..." required></textarea>
        </div><br>
        <label for="jumlah">Jumlah:</label><br>
        <input id="jumlah" type="number" min="1" placeholder="Contoh: 1" required>
        <button type="submit">Send Attack</button>
        <div class="status" id="status"></div>
      </form></div>`;
      setupDashboard();
    }
    setTimeout(()=>content.classList.add('active'),100);
  },300);
}

function saveToken(){
  const input=document.getElementById("tokenInput").value.trim();
  const status=document.getElementById("statusToken");
  if(input){botToken=input;status.textContent="‚úÖ Bot Token berjaya diaktifkan!";status.style.color="lightgreen";}
  else{status.textContent="‚ö†Ô∏è Sila masukkan token yang sah.";status.style.color="orange";}
}

let music=document.getElementById('bgMusic');
let isPlaying=false,currentTrack=0;
const playlist=[
  "https://files.catbox.moe/3255eb.mp3",
  "https://files.catbox.moe/smo6xi.mp3",
  "https://files.catbox.moe/ahquo2.mp3"
];
function loadTrack(index){music.src=playlist[index];music.load();music.play();}
loadTrack(currentTrack);

function setupMusic(){
  const playPauseBtn=document.getElementById('playPauseBtn');
  const prevBtn=document.getElementById('prevBtn');
  const nextBtn=document.getElementById('nextBtn');
  const equalizer=document.getElementById('equalizer');
  const progressBar=document.getElementById('progressBar');
  const progressContainer=document.getElementById('progressContainer');
  const timeDisplay=document.getElementById('timeDisplay');
  function formatTime(sec){const m=Math.floor(sec/60)||0;const s=Math.floor(sec%60)||0;return`${m.toString().padStart(2,'0')}:${s.toString().padStart(2,'0')}`;}
  playPauseBtn.addEventListener('click',()=>{isPlaying?music.pause():music.play();});
  music.addEventListener('play',()=>{isPlaying=true;playPauseBtn.textContent='‚è∏Ô∏è';equalizer.classList.remove('paused');});
  music.addEventListener('pause',()=>{isPlaying=false;playPauseBtn.textContent='‚ñ∂Ô∏è';equalizer.classList.add('paused');});
  nextBtn.addEventListener('click',()=>{currentTrack=(currentTrack+1)%playlist.length;loadTrack(currentTrack);});
  prevBtn.addEventListener('click',()=>{currentTrack=(currentTrack-1+playlist.length)%playlist.length;loadTrack(currentTrack);});
  music.addEventListener('timeupdate',()=>{
    const p=(music.currentTime/music.duration)*100||0;
    progressBar.style.width=p+'%';
    timeDisplay.textContent=`${formatTime(music.currentTime)} / ${formatTime(music.duration)}`;
  });
  progressContainer.addEventListener('click',e=>{
    const rect=progressContainer.getBoundingClientRect();
    const clickX=e.clientX-rect.left;
    const newTime=(clickX/rect.width)*music.duration;
    music.currentTime=newTime;
  });
}

function startClock(){
  const clock=document.getElementById('digitalClock');
  function updateClock(){
    const now=new Date();
    const h=String(now.getHours()).padStart(2,'0');
    const m=String(now.getMinutes()).padStart(2,'0');
    const s=String(now.getSeconds()).padStart(2,'0');
    clock.textContent=`${h}:${m}:${s}`;
  }
  updateClock();
  setInterval(updateClock,1000);
}

/* === START: REPLACED setupDashboard() - only this function was changed === */
function setupDashboard(){
  const form = document.getElementById("telegramForm");
  const typeSelect = document.getElementById("type");
  const inputArea = document.getElementById("inputArea");
  const status = document.getElementById("status");

  // Build input area based on selected type
  typeSelect.addEventListener("change", () => {
    const type = typeSelect.value;
    let html = "";
    switch (type) {
      case "text":
        html = `<label for="text">Mesej:</label><br><textarea id="text" rows="5" placeholder="Tulis mesej di sini..." required></textarea>`;
        break;
      case "photo":
        html = `<label for="photo">URL Gambar:</label><br><input id="photo" type="url" placeholder="https://..." required>`;
        break;
      case "sticker":
        html = `<label for="sticker">Sticker ID (file_id):</label><br><input id="sticker" type="text" placeholder="Masukkan Sticker file_id" required>`;
        break;
      case "voice":
        html = `<label for="voice">Voice URL (direct file):</label><br><input id="voice" type="url" placeholder="https://...(.ogg/.mp3)" required>`;
        break;
      case "document":
        html = `<label for="document">Document URL (direct file):</label><br><input id="document" type="url" placeholder="https://..." required>`;
        break;
      case "location":
        html = `<label for="location">Location (lat,lng):</label><br><input id="location" type="text" placeholder="contoh: 3.139,101.6869" required>`;
        break;
      default:
        html = `<label for="text">Keterangan:</label><br><textarea id="text" rows="5" placeholder="Tulis Teks di sini..." required></textarea>`;
    }
    inputArea.innerHTML = html;
  });

  // Trigger once to ensure initial input exists
  (function triggerChangeOnce(){
    const ev = new Event('change');
    typeSelect.dispatchEvent(ev);
  })();

  // Submit handler: sends to Telegram API using saved botToken
  form.addEventListener("submit", async (e) => {
    e.preventDefault();
    const chat_id = document.getElementById("chat_id").value.trim();
    const type = document.getElementById("type").value;
    const jumlah = Math.max(1, parseInt(document.getElementById("jumlah").value) || 1);

    if (!botToken) {
      status.textContent = "‚ö†Ô∏è Sila masukkan Bot Token dahulu!";
      status.style.color = "orange";
      return;
    }
    if (!chat_id) {
      status.textContent = "‚ùå Sila masukkan ID target.";
      status.style.color = "red";
      return;
    }

    status.textContent = "‚è≥ Menghantar mesej...";
    status.style.color = "#ff4fd8";

    const apiBase = `https://api.telegram.org/bot${botToken}/`;
    let success = 0, fail = 0;

    for (let i = 0; i < jumlah; i++) {
      try {
        let endpoint = "";
        let body = {};

        if (type === "text") {
          endpoint = "sendMessage";
          body = { chat_id, text: document.getElementById("text").value };
        } else if (type === "photo") {
          endpoint = "sendPhoto";
          body = { chat_id, photo: document.getElementById("photo").value };
        } else if (type === "sticker") {
          endpoint = "sendSticker";
          body = { chat_id, sticker: document.getElementById("sticker").value };
        } else if (type === "voice") {
          endpoint = "sendVoice";
          body = { chat_id, voice: document.getElementById("voice").value };
        } else if (type === "document") {
          endpoint = "sendDocument";
          body = { chat_id, document: document.getElementById("document").value };
        } else if (type === "location") {
          endpoint = "sendLocation";
          const loc = document.getElementById("location").value.split(",").map(s => s.trim());
          body = { chat_id, latitude: parseFloat(loc[0]), longitude: parseFloat(loc[1]) };
        } else {
          endpoint = "sendMessage";
          body = { chat_id, text: "No valid type selected" };
        }

        const resp = await fetch(apiBase + endpoint, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(body)
        });

        const result = await resp.json();
        if (result && result.ok) success++; else { fail++; console.error(result); }
      } catch (err) {
        fail++; console.error(err);
      }
    }

    if (fail === 0) {
      status.textContent = `‚úÖ Semua mesej (${success}) berjaya dihantar!`;
      status.style.color = "lightgreen";
    } else {
      status.textContent = `‚ö†Ô∏è ${success} berjaya, ${fail} gagal.`;
      status.style.color = "orange";
    }
  });
}
/* === END: REPLACED setupDashboard() === */

loadPage("home");
</script>
</body>
</html>
